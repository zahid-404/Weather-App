(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(s){if(s.ep)return;s.ep=!0;const c=o(s);fetch(s.href,c)}})();const p=document.querySelector("[data-userWeather]"),N=document.querySelector("[data-searchWeather]");document.querySelector(".weather-container");const m=document.querySelector(".grant-location-container"),l=document.querySelector("[data-searchForm]"),r=document.querySelector(".loading-container"),u=document.querySelector(".user-info-container"),$=document.querySelector("[data-grantAccess]"),i=document.querySelector("[data-messageText]"),O=document.querySelector("[data-searchInput]"),y=document.querySelector(".api-error-container"),M=document.querySelector("[data-notFoundImg]"),h=document.querySelector("[data-apiErrorText]"),A=document.querySelector("[data-apiErrorBtn]");let d=p;const P="47fdfa8d81b164e6e8a570d98cbbd71f";d.classList.add("current-tab");W();function C(e){e!=d&&(d.classList.remove("current-tab"),d=e,d.classList.add("current-tab"),l.classList.contains("active")?(l.classList.remove("active"),u.classList.remove("active"),W()):(u.classList.remove("active"),m.classList.remove("active"),l.classList.add("active")))}function W(){const e=sessionStorage.getItem("user-coordinates");if(!e)m.classList.add("active");else{const t=JSON.parse(e);v(t)}}async function v(e){const{lat:t,long:o}=e;m.classList.remove("active"),r.classList.add("active");try{const s=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${o}&appid=${P}&units=metric`)).json();r.classList.remove("active"),u.classList.add("active"),F(s)}catch(n){r.classList.remove("active"),y.classList.add("active"),M.style.display="none",h.innerText=`Error: ${n==null?void 0:n.message}`,A.addEventListener("click",v)}}function F(e){var g,L,S,q,T,E,b,f,x;const t=document.querySelector("[data-cityName]"),o=document.querySelector("[data-countryIcon]"),n=document.querySelector("[data-weatherDesc]"),s=document.querySelector("[data-temp]"),c=document.querySelector("[data-windspeed]"),a=document.querySelector("[data-humidity]"),B=document.querySelector("[data-cloudiness]"),D=document.querySelector("[data-weatherIcon]");t.innerText=e==null?void 0:e.name,o.src=`https://flagcdn.com/144x108/${(g=e==null?void 0:e.sys)==null?void 0:g.country.toLowerCase()}.png`,n.innerText=(S=(L=e==null?void 0:e.weather)==null?void 0:L[0])==null?void 0:S.description,D.src=`http://openweathermap.org/img/w/${(T=(q=e==null?void 0:e.weather)==null?void 0:q[0])==null?void 0:T.icon}.png`,s.innerText=`${(E=e==null?void 0:e.main)==null?void 0:E.temp} Â°C`,c.innerText=`${(b=e==null?void 0:e.wind)==null?void 0:b.speed} m/s`,a.innerText=`${(f=e==null?void 0:e.main)==null?void 0:f.humidity} %`,B.innerText=`${(x=e==null?void 0:e.clouds)==null?void 0:x.all} %`}function R(){navigator.geolocation?navigator.geolocation.getCurrentPosition(_,U):($.style.display="none",i.innerText="Geolocation is not supported by your browser")}function U(e){switch(e.code){case e.PERMISSION_DENIED:i.innerText="You denied the request for Geolocation.";break;case e.POSITION_UNAVAILABLE:i.innerText="Location information is unavailable.";break;case e.TIMEOUT:i.innerText="The request to get user location timed out.";break;case e.UNKNOWN_ERROR:i.innerText="An unknown error occurred.";break}}function _(e){const t={lat:e.coords.latitude,long:e.coords.longitude};sessionStorage.setItem("user-coordinates",JSON.stringify(t)),v(t)}async function k(e){r.classList.add("active"),u.classList.remove("active"),m.classList.remove("active"),y.classList.remove("active");try{const o=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${P}&units=metric`)).json();if(!o.sys)throw o;r.classList.remove("active"),u.classList.add("active"),F(o)}catch(t){r.classList.remove("active"),y.classList.add("active"),h.innerText=`${t==null?void 0:t.message}`,A.style.display="none"}}p.addEventListener("click",()=>{C(p)});N.addEventListener("click",()=>{C(N)});$.addEventListener("click",R);l.addEventListener("submit",e=>{e.preventDefault();let t=O.value;O.value!==""&&k(t)});
