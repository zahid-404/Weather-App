(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const c of t)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const c={};return t.integrity&&(c.integrity=t.integrity),t.referrerPolicy&&(c.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?c.credentials="include":t.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(t){if(t.ep)return;t.ep=!0;const c=o(t);fetch(t.href,c)}})();const m=document.querySelector("[data-userWeather]"),T=document.querySelector("[data-searchWeather]");document.querySelector(".weather-container");const l=document.querySelector(".grant-location-container"),u=document.querySelector("[data-searchForm]"),a=document.querySelector(".loading-container"),d=document.querySelector(".user-info-container"),A=document.querySelector("[data-grantAccess]"),N=document.querySelector("[data-searchInput]");let n=m;const O="47fdfa8d81b164e6e8a570d98cbbd71f";n.classList.add("current-tab");h();function P(e){e!=n&&(n.classList.remove("current-tab"),n=e,n.classList.add("current-tab"),u.classList.contains("active")?(u.classList.remove("active"),d.classList.remove("active"),h()):(d.classList.remove("active"),l.classList.remove("active"),u.classList.add("active")))}function h(){const e=sessionStorage.getItem("user-coordinates");if(!e)l.classList.add("active");else{const s=JSON.parse(e);x(s)}}async function x(e){const{lat:s,long:o}=e;l.classList.remove("active"),a.classList.add("active");try{const t=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${s}&lon=${o}&appid=${O}&units=metric`)).json();a.classList.remove("active"),d.classList.add("active"),$(t)}catch{a.classList.remove("active"),alert("not found")}}function $(e){var p,y,v,g,L,S,q,f,b;const s=document.querySelector("[data-cityName]"),o=document.querySelector("[data-countryIcon]"),r=document.querySelector("[data-weatherDesc]"),t=document.querySelector("[data-temp]"),c=document.querySelector("[data-windspeed]"),i=document.querySelector("[data-humidity]"),C=document.querySelector("[data-cloudiness]"),E=document.querySelector("[data-weatherIcon]");s.innerText=e==null?void 0:e.name,o.src=`https://flagcdn.com/144x108/${(p=e==null?void 0:e.sys)==null?void 0:p.country.toLowerCase()}.png`,r.innerText=(v=(y=e==null?void 0:e.weather)==null?void 0:y[0])==null?void 0:v.description,E.src=`http://openweathermap.org/img/w/${(L=(g=e==null?void 0:e.weather)==null?void 0:g[0])==null?void 0:L.icon}.png`,t.innerText=(S=e==null?void 0:e.main)==null?void 0:S.temp,c.innerText=(q=e==null?void 0:e.wind)==null?void 0:q.speed,i.innerText=(f=e==null?void 0:e.main)==null?void 0:f.humidity,C.innerText=(b=e==null?void 0:e.clouds)==null?void 0:b.all}function W(){navigator.geolocation?navigator.geolocation.getCurrentPosition(F):alert("geolocation is not supported, Please try in different browser")}function F(e){const s={lat:e.coords.latitude,long:e.coords.longitude};sessionStorage.setItem("user-coordinates",JSON.stringify(s)),x(s)}async function j(e){a.classList.add("active"),d.classList.remove("active"),l.classList.remove("active");try{const o=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${O}&units=metric`)).json();a.classList.remove("active"),d.classList.add("active"),$(o)}catch{alert("check spellings of city")}}m.addEventListener("click",()=>{P(m)});T.addEventListener("click",()=>{P(T)});A.addEventListener("click",W);u.addEventListener("submit",e=>{e.preventDefault();let s=N.value;N.value!==""&&j(s)});
